{% extends 'base.html' %}
{% load static %}

{% block content %}
    <section class="profile-section container">
        <div class="profile-card">
            <div class="profile-header">
                <img src="{% static 'img/profile.png' %}" alt="Profile Icon" class="profile-icon" width="120" height="120">
                <h2 class="profile-username">{{ user.username }}</h2>
                <p class="profile-joined">Дата регистрации: {{ user.date_joined|date:"d.m.Y H:i" }}</p>
            </div>
            {% if messages %}
                <ul class="messages">
                    {% for message in messages %}
                        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
            <form method="post" class="profile-form">
                {% csrf_token %}
                <div class="form-group">
                    <label for="first_name">Имя:</label>
                    <input type="text" name="first_name" id="first_name" value="{{ user.first_name|default_if_none:'' }}" class="form-input">
                </div>
                <div class="form-group">
                    <label for="last_name">Фамилия:</label>
                    <input type="text" name="last_name" id="last_name" value="{{ user.last_name|default_if_none:'' }}" class="form-input">
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" name="email" id="email" value="{{ user.email }}" class="form-input" required>
                </div>
                <button type="submit" class="submit auth-btn">Сохранить изменения</button>
            </form>
            <a href="{% url 'logout' %}" class="logout-btn">Выйти из аккаунта</a>
        </div>
    </section>
{% endblock %}